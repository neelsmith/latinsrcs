
import org.apache.tools.ant.filters.ReplaceTokens

apply plugin : 'war'
apply plugin : 'jetty'
apply plugin : 'groovy'

apply from: "versions.gradle"

// Allow override of basic configuration:
if (hasProperty('conf')) {
    System.err.print "Using conf configuration from ${conf}\n"
    File confFile = new File(conf)
    if (! confFile.exists()) {
        throw new Exception("No configuration file ${conf} found.")
    }
    apply from: conf
} else {
    File confFile = new File("conf.gradle")
    if (! confFile.exists()) {
        throw new Exception("No configuration file ${confFile} found.")
    }
    println "Using default configuration in 'conf.gradle'"
    apply from: "conf.gradle"
}

group = "edu.holycross.shot"
version = '0.0.1'

repositories {
    mavenCentral()
}

dependencies {
    groovy  group: 'org.codehaus.groovy', name: 'groovy-all', version: groovyVersion
    compile group: 'org.codehaus.groovy.modules.http-builder', name: 'http-builder', version: httpbuilderVersion
    
}



war {
    filter(ReplaceTokens, tokens: [homeUrl: homeUrl, sparqls: sparqls, images : images])

    classpath sourceSets.main.output.classesDir
    classpath configurations.runtime
}
